# Jvm运行时数据区

JVM需要使用内存来存放各式各样的数据，JVM规范把这些内存区域叫做运行时数据区(runtime data)

运行时数据区可以分为2类:**线程私有的和多线程共享的**

多线程共享的数据区需要在JVM启动的时候创建好,JVM退出的时候销毁
线程私有的数据区在创建线程的时候才创建，线程退出的时候销毁

多线程共享的内存区域主要存放:

- 类数据: 存放在方法区
- 实例数据: 存放在堆中

线程私有的运行时数据区用于辅助执行java字节码指令。每个线程都有自己的`pc寄存器(Program Counter)`和`Java虚拟机栈(JVM Stack)`.虚拟机栈由`栈帧(Stack Frame)`构成，帧里面保存了方法执行的状态，包括`局部变量表(Local Variables)`和`操作数栈(OperandStack)`.

某时刻，具体某线程是在执行某个方法，这个方法叫做该线程的`当前方法`,执行该方法的帧叫做线程的`当前帧`。
声明该方法的类叫做`当前类`.如果当前方法是java方法，pc寄存器存放的时候当前正在执行的JVM指令的地址，
如果当前方法是本地方法，pc寄存器的值没有明确定义
![](http://7xox4k.com1.z0.glb.clouddn.com/2018/02/11/20180211112405.png)

本次实现的是线程私有的数据区，包括线程，栈帧，局部变量表，操作数栈等,最后结果:
![](http://7xox4k.com1.z0.glb.clouddn.com/2018/02/11/20180211111332.png)
